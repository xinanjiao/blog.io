---
layout: post
title: uva 10491 奶牛与轿车 uva 1636 决斗 条件概率
date: 2020-03-18
categories: blog
tags: [数学]
description: 文章金句。
---

### Cows and Cars UVA - 10491 全概率公式

#### 题目大意
有这么一个电视节目：你的面前有3个门，其中两扇门里是奶牛，另外一扇门里则藏着奖品——一辆豪华小轿车。
在你选择一扇门之后，门并不会立即打开。这时，主持人会给你个提示，
具体方法是打开其中一扇有奶牛的门（不会打开你已经选择的那个门，即使里面是牛）。
接下来你有两种可能的决策：保持先前的选择，或者换成另外一扇未开的门。
当然，你最终选择打开的那扇门后面的东西就归你了。
在这个例子里面，你能得到轿车的概率是2/3（难以置信吧！），方法是改变自己的选择。
2/3这个数是这样得到的：如果选择了两个牛之一，你肯定能换到车前面的门，因为主持人已经让你看了另外一个牛；
而如果你开始选择的就是车，就会换成剩下的牛并且输掉奖品。由于你的最初选择是任意的，因此选错的概率是2/3。
也正是这2/3的情况让你能换到那辆车（另外1/3的情况你会从车切换到牛）。
现在把问题推广一下，假设有a头牛，b辆车（门的总数为a+b），
在最终选择前主持人会替你打开c个有牛的门（1≤a≤10000，1≤b≤10000，0≤c< a），
输出“换门”的策略下，赢得车的概率。

#### 思路
使用全概率公式。打开c个牛门后，还剩a-c头牛，未开的门总数是a+b-c，
其中有a+b-c-1个门可以换（称为“可选门”），换到车门的概率就是“可选门中车门的个数”除以“可选门”的总数。
情况1：一开始选了牛（概率为a / (a+b)），则可选门中车门有b个。这种情况的概率为a/(a+b) * b/(a+b-c-1)。
情况2：一开始选了车（概率为b / (a+b)），则可选门中车门有b-1个，概率为b/(a+b) * (b-1)/(a+b-c-1)。
加起来得(ab+b(b-1)) / ((a+b)(a+b-c-1))。

```
int main(){
    ios::sync_with_stdio(0);
    double a,b,c;
    while(cin>>a>>b>>c){
        printf("%.5lf\n",((a*b)+(b*b-b))/((a+b)*(a+b-c-1)));
    }
    return 0;
}
```

### Headshot UVA - 1636 条件概率
#### 题目大意
你有一把枪（左轮的），你随机装了一些子弹，你开了一枪，发现没有子弹，你希望下一枪也没有子弹，你是应该直接开一枪（输出"SHOOT"），还是先转一下，再开一枪（输出"ROTATE"）？如果两种情况下一枪没子弹的概率相等，输出"EQUAL"。 注意：这里转一下，并不是转到下一个位置，而是随机转，即等概率转到子弹序列的每一个位置上。 手枪里的子弹序列可以看做二进制序列，例如0011，第一次开枪前，一定在位置1或2（因为你的第一枪没打出子弹去），因此开枪后位于位置2或3，如果此时开枪，有一半的概率打不出子弹。补充一下，子弹序列是环形序列，即0011等同于0110,1100，1001；

数据保证子弹序列长度为2 ~ 100

```
Sample Input

0011
0111
000111

Sample Output

EQUAL
ROTATE
SHOOT
```

### 思路
条件概率，下一枪无子弹是发生在第一枪没有字弹的前提上。

直接扣一枪是一个条件概率，因为他必须符合上一枪为0的这个条件,所以这一枪一维0的概率等于 子串00的总数除以 00加上01的总数(也就是0的全部个数)

如果转一下再扣为空，它的概率为0的个数除以子串长度.

设a等于子串00的个数，b 为0的个数

所以概率分别为p1 = a / b ，p2 = b / n；比较两个大小移向既得an 和 b * b比较.

注意子弹顺序是环形的 所以子串s[n-1] 后面s[n] = s[0];

```
const int maxn = 1e5+10;
const int hashmaxn=8388608;
int lowbit(int x){return x&(-x);}
int main(){
    ios::sync_with_stdio(0);
    string s;
    while(cin>>s){
        int n=s.size();
        int b=0;
        fro(i,0,n)
          if(s[i]=='0') b++;
        s.push_back(s[0]);
        int a=0;
        fro(i,0,s.size()){
            if(s[i]=='0'&&s[i+1]=='0')
                a++;
        }
        int ans1=a*n,ans2=b*b;
        if(ans1==ans2)
            cout<<"EQUAL"<<endl;
        else if(ans1>ans2)
            cout<<"SHOOT"<<endl;
        else
            cout<<"ROTATE"<<endl;
    }
    return 0;
}
```




